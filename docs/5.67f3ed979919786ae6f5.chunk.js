webpackJsonp([5],{pP7T:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("WT6e"),s=function(){},o=n("v2mS"),a=n("Y5Yx"),c=n("TToO"),r=n("QFcC"),l=function(t){function e(){var e=t.call(this,{key:"StartScene"})||this;return e.active=!0,e.clicked=!1,e}return Object(c.b)(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.title=this.add.text(48,32,"Concentration").setStroke("#c93f3f",3).setFontSize(24).setColor("#c93f3f"),this.instruction=this.add.text(72,96,"Click to start!").setFontSize(16).setColor("#ffffff")},e.prototype.update=function(){var t=this;this.clicked||this.input.activePointer.isDown&&(this.clicked=!0,this.cameras.main.fadeOut(1e3,255,255,255,function(e,n){n<1||t.scene.start("PlayScene")},this))},e}(r.Scene),h=function(){function t(t,e,n){this.scene=t,this.cardFrame=e,this.cardBackFrame=n,this.flipped=!1,this.flipping=!1,this.matched=!1,this.front=this.scene.add.sprite(0,0,"card",e),this.front.setScale(.2),this.front.setVisible(!1),this.front.setInteractive(),this.back=this.scene.add.sprite(0,0,"cardBack",n),this.back.setScale(.2),this.back.setInteractive(),this.scene.input.on("gameobjectup",this.handleClick,this)}return t.prototype.setPosition=function(t,e){this.front.setPosition(t,e),this.back.setPosition(t,e)},t.prototype.isFlipped=function(){return this.flipped},t.prototype.isFlipping=function(){return this.flipping},t.prototype.flip=function(){var t,e,n=this;this.flipped?(t=this.front,e=this.back):(e=this.front,t=this.back),this.flipped=!this.flipped,this.flipping=!0,e.setScale(0,.22),this.scene.tweens.add({targets:t,scaleY:.22,scaleX:0,onComplete:function(){t.setVisible(!1),e.setVisible(!0),n.scene.tweens.add({targets:e,scaleY:.2,scaleX:.2,onComplete:function(){n.flipping=!1},ease:"Linear",duration:150})},ease:"Linear",duration:150})},t.prototype.isMatch=function(t){return this.cardFrame===t.cardFrame},t.prototype.match=function(){var t=this;this.matched=!0,this.scene.input.removeListener("gameobjectup",this.handleClick,this,!1),this.scene.tweens.add({targets:this.front,alpha:0,duration:200,delay:300,ease:"Linear",repeat:5,onComplete:function(){t.front.destroy(),t.back.destroy()}})},t.prototype.changeCardBack=function(t){this.back.setFrame(t)},t.prototype.handleClick=function(t,e){this.matched||this.flipping||(e===this.front?this.scene.events.emit("clickedFront",this):e===this.back&&this.scene.events.emit("clickedBack",this))},t}(),u=n("ToJw"),f=function(t){function e(){var e=t.call(this,{key:"PlayScene"})||this;return e.active=!1,e}return Object(c.b)(e,t),e.prototype.init=function(){this.flippedCards=[],this.matchCount=0,this.moveCount=0},e.prototype.preload=function(){this.load.spritesheet("card","assets/concentration/playingCards.png",{frameWidth:140,frameHeight:190}),this.load.spritesheet("cardBack","assets/concentration/playingCardBacks.png",{frameWidth:140,frameHeight:190})},e.prototype.create=function(){var t=this,e=Array(68).fill(null).map(function(t,e){return e}).filter(function(t){return(t+1)%7>0&&((t+2)%7>0||t/7<3)}),n=Array(20).fill(null).map(function(){var t=Math.floor(Math.random()*e.length);return e.splice(t,1)[0]});n.push.apply(n,n),Object(u.a)(n),this.cards=n.map(function(e){return new h(t,e,Math.floor(15*Math.random()))}),this.cards.forEach(function(t,e){t.setPosition(14.72+e%10*28.72,21+40*Math.floor(e/10))}),this.cameras.main.fadeIn(1e3,255,255,255,function(e,n){n<1?t.cards.forEach(function(t){return t.changeCardBack(Math.floor(15*Math.random()))}):t.events.on("clickedBack",function t(e){var n=this;2===this.flippedCards.length&&(this.flippedCards.forEach(function(t){return t.flip()}),this.flippedCards=[]),e.flip(),this.flippedCards.push(e),2===this.flippedCards.length&&(this.moveCount+=1,this.flippedCards[0].isMatch(this.flippedCards[1])&&(this.flippedCards.forEach(function(t){return t.match()}),this.matchCount+=2,this.flippedCards=[],this.matchCount===this.cards.length&&(this.events.removeListener("clickedBack",t),this.time.delayedCall(2e3,function(){n.cameras.main.fadeOut(1e3,255,255,255,function(t,e){e<1||n.scene.start("ScoreScene",{moveCount:n.moveCount})},n)},[],this))))},t)},this)},e}(r.Scene),p=function(t){function e(){var e=t.call(this,{key:"ScoreScene"})||this;return e.active=!1,e}return Object(c.b)(e,t),e.prototype.init=function(t){this.moveCount=t.moveCount,this.now=Date.now()},e.prototype.create=function(){var t=this;this.cameras.main.fadeIn(1e3,255,255,255,function(e,n){n<1||(t.add.text(30,32,"Congratulations!").setStroke("#c93f3f",3).setFontSize(24).setColor("#c93f3f"),t.add.text(96,64,"You won in\n"+t.moveCount+"\nmoves").setStroke("#c93f3f",3).setFontSize(16).setAlign("center").setColor("#ffffff"))},this)},e.prototype.update=function(){Date.now()-this.now<1500||this.input.activePointer.isDown&&this.scene.start("PlayScene")},e}(r.Scene),d=function(){return function(){this.config={title:"Concentration",url:"https://ksmai.github.io/html5-games/concentration",version:"1.0",backgroundColor:"#529848",scene:[l,f,p]},this.instructions="Eliminate all the cards by flipping the matching pairs"}}(),m=i._2({encapsulation:0,styles:[[""]],data:{}});function g(t){return i._21(0,[(t()(),i._4(0,0,null,null,1,"game-phaser-game-container",[],null,null,null,o.b,o.a)),i._3(1,4374528,null,0,a.a,[i.k],{config:[0,"config"],title:[1,"title"],instructions:[2,"instructions"]},null),(t()(),i._20(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,1,0,n.config,n.config.title,n.instructions)},null)}var C=i._0("game-concentration-game",d,function(t){return i._21(0,[(t()(),i._4(0,0,null,null,1,"game-concentration-game",[],null,null,null,g,m)),i._3(1,49152,null,0,d,[],null,null)],null,null)},{},{},[]),k=n("Xjw4"),v=n("bfOx"),y=function(){},b=n("LdoY");n.d(e,"ConcentrationModuleNgFactory",function(){return S});var S=i._1(s,[],function(t){return i._11([i._12(512,i.j,i.X,[[8,[C]],[3,i.j],i.w]),i._12(4608,k.k,k.j,[i.t,[2,k.p]]),i._12(512,k.b,k.b,[]),i._12(512,v.p,v.p,[[2,v.u],[2,v.m]]),i._12(512,y,y,[]),i._12(512,b.a,b.a,[]),i._12(512,s,s,[]),i._12(1024,v.i,function(){return[[{path:"",component:d}]]},[])])})}});